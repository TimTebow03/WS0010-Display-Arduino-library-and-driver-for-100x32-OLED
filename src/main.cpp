#include <Arduino.h>
#include <avr/pgmspace.h>
#include <WS0010_WEG010032.h>

// Pins
// Data Bus (Using D2-D9 for DB0-DB7)
const uint8_t DB_PINS[] = {2, 3, 4, 5, 6, 7, 8, 9}; // DB0=D2, DB1=D3 ... DB7=D9
const uint8_t BUSY_PIN = 9; // D9 (DB7) is also the Busy Flag

// Control Pins
const uint8_t RS_PIN = 10;
const uint8_t RW_PIN = 11;
const uint8_t E_PIN = 12;
const uint8_t CS1_PIN = A0;
const uint8_t CS2_PIN = A1;

WS0010_Display display(DB_PINS,RS_PIN,RW_PIN,E_PIN,CS1_PIN,CS2_PIN,BUSY_PIN);

const unsigned char charOpen[4][100] PROGMEM = {
  0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0x60,
  0x20,0x30,0x10,0x10,0x90,0xD8,0x78,0x38,
  0x38,0x1C,0x0E,0x06,0x06,0x06,0x0E,0x1C,
  0x38,0xF0,0xE0,0xC0,0xC0,0xC0,0xF0,0xF0,
  0xB0,0xB8,0x18,0x18,0x38,0x78,0xF8,0xE0,
  0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x30,0x48,0x30,0x00,0x08,
  0x1C,0x08,0x00,0x1C,0xA2,0x22,0x1C,0x00,
  0x00,0x78,0x84,0x8C,0x70,0x80,0xC0,0x40,
  0x40,0x80,0x00,0x80,0x40,0x30,0x10,0x10,
  0x10,0x20,0x60,0x80,0x00,0x00,0x80,0x80,
  0x80,0x00,0x00,0x00,0x00,0x7C,0xFE,0x8F,
  0x07,0xFF,0x07,0xFE,0x06,0xFE,0xFC,0x8F,
  0x05,0x7C,0xF8,0xB8,0xB0,0xE0,0x60,0x40,
  0x40,0x40,0x40,0x40,0x40,0x40,0xC3,0xFF,
  0x7E,0x00,0x00,0x20,0x41,0x01,0x03,0x07,
  0x0F,0x0E,0x0F,0x0F,0x03,0x03,0x03,0x03,
  0x03,0x03,0x03,0x03,0x43,0x32,0x0A,0x0E,
  0xE6,0xB6,0x16,0x16,0x16,0x16,0x14,0x14,
  0x14,0xB6,0xF6,0xF3,0x03,0x03,0x7F,0xE3,
  0x00,0x30,0x0C,0x02,0xC1,0xF0,0xF8,0x78,
  0x3B,0x38,0x70,0xE0,0xC0,0x0C,0x0D,0xF8,
  0xF8,0xF8,0x3C,0x84,0x80,0xC0,0xE0,0xF1,
  0xF2,0x71,0x3C,0x1C,0x00,0x01,0x06,0x00,
  0x80,0x80,0x3B,0xFF,0xFE,0x1F,0x0C,0x0F,
  0x0C,0x0F,0x07,0x03,0x42,0x46,0x44,0x4C,
  0x48,0x68,0x28,0x28,0x68,0x4C,0x44,0xC6,
  0x82,0x03,0x11,0x00,0x20,0x08,0x40,0x30,
  0x10,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x80,0xF8,0xBF,0x10,0x11,0x11,
  0x11,0x11,0x11,0x31,0xB1,0xFB,0xFF,0x1F,
  0x00,0x00,0xE0,0xFF,0x7E,0x00,0x00,0x80,
  0x43,0x9F,0x3F,0x78,0x70,0x70,0x78,0x3F,
  0x8F,0x80,0x00,0x7F,0xFF,0xFF,0xFF,0x9F,
  0x1F,0x3D,0x39,0x70,0xE0,0xE0,0xE0,0xC0,
  0x00,0x80,0x00,0x00,0x01,0x03,0x03,0x03,
  0x03,0xFF,0x4E,0x44,0x4C,0x4A,0x48,0x48,
  0x48,0x4C,0x6C,0x7C,0xC6,0x02,0x02,0x02,
  0x06,0x8E,0x9C,0xB8,0xF1,0xF1,0xF3,0x32,
  0x36,0x3C,0x1C,0x18,0x18,0x38,0x30,0x30,
  0x30,0x70,0x60,0x60,0x60,0xE0,0xC0,0xC0,
  0xC0,0xC0,0xC0,0xD2,0xA0,0x80,0xFF,0xC3,
  0xE3,0xE2,0xE2,0xE2,0xE2,0xF3,0xFF,0xFF,
  0xFF,0x5F,0x41,0x60,0x30,0x3F,0x1F,0x03,
  0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x17,
  0x01,0x01,0x01,0x01,0x00,0x00,0x07,0x08,
  0x1B,0x3B,0x0B,0x0B,0x0B,0x08,0x04,0x04,
  0x04,0x08,0x0B,0x3B,0x08,0x07,0x00,0x00
};

const unsigned char charClosed[4][100] PROGMEM = {
  0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0x60,
  0x20,0x30,0x10,0x10,0x90,0xD8,0x78,0x38,
  0x38,0x1C,0x0E,0x06,0x06,0x06,0x0E,0x1C,
  0x38,0xF0,0xE0,0xC0,0xC0,0xC0,0xF0,0xF0,
  0xB0,0xB8,0x18,0x18,0x38,0x78,0xF8,0xE0,
  0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x30,0x48,0x30,0x00,0x08,
  0x1C,0x08,0x00,0x1C,0xA2,0x22,0x1C,0x00,
  0x00,0x78,0x84,0x8C,0x70,0x80,0xC0,0x40,
  0x40,0x80,0x00,0x80,0x40,0x30,0x10,0x10,
  0x10,0x20,0x60,0x80,0x00,0x00,0x80,0x80,
  0x80,0x00,0x00,0x00,0x00,0x7C,0xFE,0x8F,
  0x07,0xFF,0x07,0xFE,0x06,0xFE,0xFC,0xFF,
  0xC1,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xC3,0xFF,
  0x7E,0x00,0x00,0x20,0x41,0x01,0x03,0x07,
  0x0F,0x0E,0x0F,0x0F,0x03,0x03,0x03,0x03,
  0x03,0x03,0x03,0x03,0x43,0x32,0x0A,0x0E,
  0xE6,0xB6,0x16,0x16,0x16,0x16,0x14,0x14,
  0x14,0xB6,0xF6,0xF3,0x03,0x03,0x7F,0xE3,
  0x00,0x30,0x0C,0x02,0xC1,0xF0,0xF8,0x78,
  0x3B,0x38,0x70,0xE0,0xC0,0x0C,0x0D,0xF8,
  0xF8,0xF8,0x3C,0x84,0x80,0xC0,0xE0,0xF1,
  0xF2,0x71,0x3C,0x1C,0x00,0x01,0x06,0x00,
  0x80,0x80,0x3B,0xFF,0xFE,0x1F,0x0C,0x0F,
  0x0C,0x0F,0x07,0x03,0x43,0x47,0x47,0x4E,
  0x4E,0x6E,0x2E,0x2E,0x6E,0x4E,0x47,0xC7,
  0x83,0x03,0x11,0x00,0x20,0x08,0x40,0x30,
  0x10,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x80,0xF8,0xBF,0x10,0x11,0x11,
  0x11,0x11,0x11,0x31,0xB1,0xFB,0xFF,0x1F,
  0x00,0x00,0xE0,0xFF,0x7E,0x00,0x00,0x80,
  0x43,0x9F,0x3F,0x78,0x70,0x70,0x78,0x3F,
  0x8F,0x80,0x00,0x7F,0xFF,0xFF,0xFF,0x9F,
  0x1F,0x3D,0x39,0x70,0xE0,0xE0,0xE0,0xC0,
  0x00,0x80,0x00,0x00,0x01,0x03,0x03,0x03,
  0x03,0xFF,0x4E,0x44,0x4C,0x4A,0x48,0x48,
  0x48,0x4C,0x6C,0x7C,0xC6,0x02,0x02,0x02,
  0x06,0x8E,0x9C,0xB8,0xF1,0xF1,0xF3,0x32,
  0x36,0x3C,0x1C,0x18,0x18,0x38,0x30,0x30,
  0x30,0x70,0x60,0x60,0x60,0xE0,0xC0,0xC0,
  0xC0,0xC0,0xC0,0xD2,0xA0,0x80,0xFF,0xC3,
  0xE3,0xE2,0xE2,0xE2,0xE2,0xF3,0xFF,0xFF,
  0xFF,0x5F,0x41,0x60,0x30,0x3F,0x1F,0x03,
  0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x17,
  0x01,0x01,0x01,0x01,0x00,0x00,0x07,0x08,
  0x1B,0x3B,0x0B,0x0B,0x0B,0x08,0x04,0x04,
  0x04,0x08,0x0B,0x3B,0x08,0x07,0x00,0x00
};

const unsigned char charHalf[4][100] PROGMEM = {
  0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0x60,
  0x20,0x30,0x10,0x10,0x90,0xD8,0x78,0x38,
  0x38,0x1C,0x0E,0x06,0x06,0x06,0x0E,0x1C,
  0x38,0xF0,0xE0,0xC0,0xC0,0xC0,0xF0,0xF0,
  0xB0,0xB8,0x18,0x18,0x38,0x78,0xF8,0xE0,
  0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x30,0x48,0x30,0x00,0x08,
  0x1C,0x08,0x00,0x1C,0xA2,0x22,0x1C,0x00,
  0x00,0x78,0x84,0x8C,0x70,0x80,0xC0,0x40,
  0x40,0x80,0x00,0x80,0x40,0x30,0x10,0x10,
  0x10,0x20,0x60,0x80,0x00,0x00,0x80,0x80,
  0x80,0x00,0x00,0x00,0x00,0x7C,0xFE,0x8F,
  0x07,0xFF,0x07,0xFE,0x06,0xFE,0xFC,0xBF,
  0x31,0x60,0xC0,0x80,0x80,0x80,0x00,0x00,
  0x00,0x00,0x00,0x00,0x80,0x80,0xC3,0xFF,
  0x7E,0x00,0x00,0x20,0x41,0x01,0x03,0x07,
  0x0F,0x0E,0x0F,0x0F,0x03,0x03,0x03,0x03,
  0x03,0x03,0x03,0x03,0x43,0x32,0x0A,0x0E,
  0xE6,0xB6,0x16,0x16,0x16,0x16,0x14,0x14,
  0x14,0xB6,0xF6,0xF3,0x03,0x03,0x7F,0xE3,
  0x00,0x30,0x0C,0x02,0xC1,0xF0,0xF8,0x78,
  0x3B,0x38,0x70,0xE0,0xC0,0x0C,0x0D,0xF8,
  0xF8,0xF8,0x3C,0x84,0x80,0xC0,0xE0,0xF1,
  0xF2,0x71,0x3C,0x1C,0x00,0x01,0x06,0x00,
  0x80,0x80,0x3B,0xFF,0xFE,0x1F,0x0C,0x0F,
  0x0C,0x0F,0x07,0x03,0x42,0x46,0x45,0x4D,
  0x49,0x69,0x29,0x29,0x69,0x4D,0x45,0xC7,
  0x83,0x03,0x11,0x00,0x20,0x08,0x40,0x30,
  0x10,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x80,0xF8,0xBF,0x10,0x11,0x11,
  0x11,0x11,0x11,0x31,0xB1,0xFB,0xFF,0x1F,
  0x00,0x00,0xE0,0xFF,0x7E,0x00,0x00,0x80,
  0x43,0x9F,0x3F,0x78,0x70,0x70,0x78,0x3F,
  0x8F,0x80,0x00,0x7F,0xFF,0xFF,0xFF,0x9F,
  0x1F,0x3D,0x39,0x70,0xE0,0xE0,0xE0,0xC0,
  0x00,0x80,0x00,0x00,0x01,0x03,0x03,0x03,
  0x03,0xFF,0x4E,0x44,0x4C,0x4A,0x48,0x48,
  0x48,0x4C,0x6C,0x7C,0xC6,0x02,0x02,0x02,
  0x06,0x8E,0x9C,0xB8,0xF1,0xF1,0xF3,0x32,
  0x36,0x3C,0x1C,0x18,0x18,0x38,0x30,0x30,
  0x30,0x70,0x60,0x60,0x60,0xE0,0xC0,0xC0,
  0xC0,0xC0,0xC0,0xD2,0xA0,0x80,0xFF,0xC3,
  0xE3,0xE2,0xE2,0xE2,0xE2,0xF3,0xFF,0xFF,
  0xFF,0x5F,0x41,0x60,0x30,0x3F,0x1F,0x03,
  0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x17,
  0x01,0x01,0x01,0x01,0x00,0x00,0x07,0x08,
  0x1B,0x3B,0x0B,0x0B,0x0B,0x08,0x04,0x04,
  0x04,0x08,0x0B,0x3B,0x08,0x07,0x00,0x00
};

void setup() {
  display.init();
  display.begin();
}

void loop() {
  display.showPic(charClosed, 100);
  delay(50);
  display.showPic(charHalf, 100);
  delay(100);
  display.showPic(charOpen, 100);
  delay(4000);
  display.showPic(charHalf, 100);
  delay(100);
}